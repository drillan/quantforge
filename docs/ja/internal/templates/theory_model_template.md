# 理論モデルドキュメントテンプレート

このテンプレートは `docs/models/` ディレクトリ内のすべての理論ドキュメントで使用します。
実装済み/未実装に関わらず、同一の11セクション構造を維持してください。

---

```markdown
---
future_feature: true  # 未実装モデルの場合のみこの行を追加
---

# {モデル名}モデル

:::{warning}
このページで説明されている機能は現在開発中です。
現在利用可能なモデルは[モデル一覧](index.md)をご確認ください。
実装予定時期については[ロードマップ](../roadmap.md)をご確認ください。
:::
{↑ 未実装モデルの場合のみ警告ボックスを追加}

{モデルの理論的位置づけを1行で説明。例：「オプション価格理論の基礎となる最も重要なモデルです。」}

## 理論的背景

### 基本概念
{モデルの基本的な考え方、歴史的背景、主要な貢献者など}

### 基本仮定
{数学的仮定を番号付きリストで記載}

1. **仮定名**: 詳細説明
2. **仮定名**: 詳細説明
   数式がある場合: $$数式$$

## 価格式の導出

### {モデル名}方程式
{偏微分方程式や確率微分方程式}

$$偏微分方程式$$

### 境界条件
{コールオプションとプットオプションの境界条件}

コールオプション:
- 条件1: $数式$
- 条件2: $数式$

プットオプション:
- 条件1: $数式$
- 条件2: $数式$

## 解析解

### ヨーロピアンコール
{コールオプションの価格式}

$$C = 価格式$$

where:
- パラメータの説明

### ヨーロピアンプット
{プットオプションの価格式}

$$P = 価格式$$

## グリークス

{各グリークスの導出式と意味}

| グリーク | 意味 | 数式 |
|---------|------|------|
| Delta | {説明} | $\partial V/\partial S$ |
| Gamma | {説明} | $\partial^2 V/\partial S^2$ |
| Vega | {説明} | $\partial V/\partial \sigma$ |
| Theta | {説明} | $-\partial V/\partial T$ |
| Rho | {説明} | $\partial V/\partial r$ |

## {関連モデル名}との関係

{このモデルと他のモデルとの数学的関係、特殊ケース、一般化など}

例：
- {条件}の場合、{他モデル}に帰着
- {パラメータ} → 0 の極限で{他モデル}と一致

## 応用分野

{実務での具体的な使用例、適用可能な市場・商品}

### {分野1}
- 使用例
- 特徴

### {分野2}
- 使用例
- 特徴

## 数値計算上の考慮事項

### 精度要件
{数値精度の目標と実装上の注意点}

- 価格精度: < {誤差}
- グリークス精度: < {誤差}

### 数値的課題と対策
{計算上の問題と解決策}

1. **課題**: {説明}
   - 対策: {解決方法}

2. **課題**: {説明}
   - 対策: {解決方法}

## モデルの限界と拡張

### 限界
{モデルの制約、現実との乖離}

- 限界1: {説明}
- 限界2: {説明}

### 拡張モデル
{このモデルを基にした発展的なモデル}

- **{拡張モデル名}**: {簡潔な説明}
- **{拡張モデル名}**: {簡潔な説明}

## 実装例（概念）

```{code-block} python
:name: theory-model-template-code-api
:caption: 概念的な実装例（実際のAPIとは異なる）

# 概念的な実装例（実際のAPIとは異なる）
def {model_name}_call_price(s, k, t, r, sigma):
    """
    {モデル名}モデルによるコールオプション価格
    
    Parameters:
        s: スポット価格
        k: 権利行使価格
        t: 満期までの時間
        r: 無リスク金利
        sigma: ボラティリティ
    
    Returns:
        コールオプション価格
    """
    # 実装の概要
    d1 = ...
    d2 = ...
    call_price = ...
    return call_price
```

{未実装の場合は「# 将来実装予定のAPI」とコメントを追加}

## 参考文献

{学術論文・書籍のリストを番号付きで}

1. Author, A. (Year). "Title of Paper." *Journal Name*, Volume(Issue), Pages.

2. Author, B. (Year). *Book Title* (Edition). Publisher.

## 関連ドキュメント

- [{モデル名} API](../api/python/{model_name}.md) {実装済みの場合}
- [{モデル名} API（将来実装予定）] {未実装の場合、リンクなし}
- [関連モデル名](related_model.md)
```

---

## 使用上の注意

### セクション数
- **必ず11セクション**を維持してください
- セクションの順序は変更しないでください
- セクションの削除・追加は禁止です

### 行数の目安
- **全体**: 200-250行
- **各セクション**: 15-30行（実装例、参考文献を除く）

### 実装状態の表示
1. **未実装モデル**:
   - フロントマターに `future_feature: true` を追加
   - 冒頭に警告ボックスを配置
   - 実装例に「将来実装予定」とコメント
   - APIリンクに「（将来実装予定）」を追記

2. **実装済みモデル**:
   - フロントマターなし
   - 警告ボックスなし
   - 実装例は概念的なコードを記載
   - APIドキュメントへの実際のリンク

### 数式の記法
- インライン数式: `$数式$`
- ディスプレイ数式: `$$数式$$`
- LaTeX記法を使用

### コード例
- Python構文を使用
- パラメータ名は省略形（s, k, t, r, sigma等）
- docstringを含める
- 実際のAPIとは異なることを明記