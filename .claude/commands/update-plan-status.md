# 計画進捗更新プロンプト

## タスク: plans/ディレクトリの計画進捗を更新

指定された計画ファイル（$ARGUMENTS）の進捗を確認し、以下の作業を実施してください。

### 実施手順

1. **計画ファイルの確認**
   - `plans/$ARGUMENTS` または `plans/archive/$ARGUMENTS` を読み込む
   - チェックボックス（- [ ]）がある場合は完了項目をチェック（- [x]）
   - 各フェーズ・タスクの実装状況を確認

2. **進捗状況の更新**
   - 計画内の「進捗」セクションを最新状態に更新
   - 完了率を計算して記載
   - ブロッカーや特記事項があれば記録

3. **plans/README.mdの更新**
   - 該当計画のステータスを更新
   - 進捗サマリーテーブルの更新：
     - アクティブな計画: 進捗率を更新
     - 完了した計画: 完了日と成果物を記録

4. **完了処理**（ステータスがCOMPLETEDの場合）
   - 計画ファイルを`archive/`ディレクトリに移動
   - README.mdの「アクティブな計画」セクションから「完了した計画」セクションへ移動
   - 成果物や重要な成果を記録

### ステータス遷移ルール

```
DRAFT → REVIEW → ACTIVE → COMPLETED → (archive/へ移動)
         ↓
      CANCELLED → (archive/へ移動)
```

### チェックボックスの更新例

```markdown
# 更新前
- [ ] プロジェクト初期化
- [ ] PyO3/Maturin環境セットアップ
- [ ] CI/CDパイプライン構築

# 更新後
- [x] プロジェクト初期化 ✅
- [x] PyO3/Maturin環境セットアップ ✅
- [ ] CI/CDパイプライン構築
```

### 進捗計算方法

1. チェックボックスがある場合：
   - 進捗率 = (チェック済み項目数 / 全項目数) × 100

2. フェーズ別の場合：
   - 各フェーズの重みを考慮して計算

### 出力形式

更新完了後、以下の形式で報告してください：

```
## 計画進捗更新完了

**計画名**: [計画名]
**ステータス**: DRAFT → ACTIVE（変更がある場合）
**進捗**: XX% → YY%

### 完了項目
- ✅ [完了した項目1]
- ✅ [完了した項目2]

### 残タスク
- [ ] [未完了項目1]
- [ ] [未完了項目2]

### 特記事項
[ブロッカーや重要な変更点があれば記載]
```

### 使用例

```bash
# 特定の計画を更新
echo "2025-01-24-pytest-coverage-strategy.md" | claude update-plan-status

# 全計画の状況を確認
echo "all" | claude update-plan-status
```